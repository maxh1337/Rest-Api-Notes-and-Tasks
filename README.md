# üìù Rest API Notes and Tasks (Echo + GORM)

> –ú–æ–π –ø–µ—Ä–≤—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Echo(–ü–µ—Ä–≤—ã–π RestApi –Ω–∞ Golang –≤ —Ü–µ–ª–æ–º). –ü–æ—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ RESTful API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∑–∞–¥–∞—á–∞–º–∏ –∏ –ø–æ–¥–∑–∞–¥–∞—á–∞–º–∏. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, —Ä–æ—É—Ç–∏–Ω–≥–æ–º, —Å–ª–æ—è–º–∏ (handler ‚Üí service ‚Üí repository) –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º GORM + PostgreSQL.
> –£ –º–µ–Ω—è —É–∂–µ –µ—Å—Ç—å –æ–≥—Ä–æ–º–Ω—ã–π –æ–ø—ã—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è Fullstack –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ TypeScript (NestJs,NextJs), —Ç–∞–∫ –∫–∞–∫ —è –º–Ω–æ–≥–æ –ø–∏—Å–∞–ª –Ω–∞ NestJs, –∞ —Ç–∞–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ controller ‚Üí service, –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ —è —Ä–µ—à–∏–ª —É–±—Ä–∞—Ç—å —Å–ª–æ–π usecases. –í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∏–≤—ã—á–Ω–æ—Å—Ç–∏ —Ä–∞–∑–±–∏–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –Ω–∞ —Ç–∞–∫–∏–µ –º–∞–ª–µ–Ω—å–∫–∏–µ –∫—É—Å–∫–∏ —Å –ª–æ–≥–∏–∫–æ–π. –í–æ –≤—Ç–æ—Ä—É—é –æ—á–µ—Ä–µ–¥—å –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –≤ —Ç–∞–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–º –ø—Ä–æ–µ–∫—Ç–µ, –¥–∞–∂–µ –ø–æ–¥—Ö–æ–¥ —Å Clean Architecture —è–≤–ª—è–µ—Ç—Å—è –∏–∑–±—ã—Ç–æ—á–Ω—ã–º.

---

## ‚öôÔ∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### –ó–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–æ

- [Go (Golang)](https://golang.org/)
- [Echo](https://echo.labstack.com/) ‚Äî HTTP –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- [GORM](https://gorm.io/) ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
- [PostgreSQL](https://www.postgresql.org/) ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [Redis](https://pkg.go.dev/github.com/redis/go-redis/v9) - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–µ—Å—Å–∏–π –∏ —Ç–æ–∫–µ–Ω–æ–≤
- [JWT](https://pkg.go.dev/github.com/golang-jwt/jwt/v5) - http-only cookie accessToken –∏ refreshToken –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- UUID ‚Äî –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –≤–º–µ—Å—Ç–æ `uint`

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è

- –î–æ—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ –¥–ª—è –ø–µ—Ä–µ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å Middlewares - auth, role, cors, ratelimiting, CSRF
- –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏ –∏ –ø–æ–¥–∞–∑–∞–¥–∞—á–∞–º–∏
- 2FA —Å –ø–æ–º–æ—â—å—é –∫–æ–¥–∞ Telegram Codes

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```

‚îú‚îÄ‚îÄ cmd/server/ # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: main / –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ internal/
‚îÇ ‚îú‚îÄ‚îÄ api/ # Delivery —Å–ª–æ–π
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ handlers/ # HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (Echo)
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ middleware/ # Middleware (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ç.–¥.)
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ routes/ # –†–æ—É—Ç–∏–Ω–≥
‚îÇ ‚îú‚îÄ‚îÄ config/ # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ .env
‚îÇ ‚îú‚îÄ‚îÄ domain/ # –°—É—â–Ω–æ—Å—Ç–∏, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ entities/ # –ú–æ–¥–µ–ª–∏ (User, Task, SubTask –∏ —Ç.–¥.)
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ repositories/ # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ services/ # –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π (–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ validator/ # –ü–µ—Ä–≤–∏—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è json –ø–æ–ª–µ–π
‚îÇ ‚îî‚îÄ‚îÄ infrastructure/
‚îÇ ‚îî‚îÄ‚îÄ database/ # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)
‚îú‚îÄ‚îÄ docker/ # Dockerfile + docker-compose.yml
‚îú‚îÄ‚îÄ scripts/ # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ tmp/ # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ Makefile # –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏, –∑–∞–ø—É—Å–∫–∞, –º–∏–≥—Ä–∞—Ü–∏–π –∏ —Ç.–ø.

```

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

   ```bash
   go mod tidy

   ```

2. –ù–∞—Å—Ç—Ä–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env` –∏–ª–∏ —á–µ—Ä–µ–∑ `os.Getenv`):

   ```
   DB_HOST=localhost
   DB_PORT=5432
   DB_USER=postgres
   DB_PASSWORD=password
   DB_NAME=notes_db
   PORT=8080
   ```

3. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:

   ```bash
   make dev

   ```

4. API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:

   http://localhost:8080

```

```
